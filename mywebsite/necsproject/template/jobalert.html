{% extends "base.html" %}

{% block title %} Necsproject Job Alert {% endblock title %}

{% block nav-job %} <li><a href="{% url 'jobalert-page' %}" class="bg-[#acc9e9] text-white font-semibold">Job alert</a></li>   {% endblock nav-job %}

{% load static %}

{% block content %}
<div class="drawer drawer-end">
  <input id="my-drawer-4" type="checkbox" class="drawer-toggle" />
  <div class="drawer-content">
    <h1 class="text-3xl mb-10 ml-10 mt-10 font-bold">Job alert</h1>
    <div class="flex space-x-20 mt-5 items-center mx-10">
      <div class="flex space-x-3">
        <div>
          <input type="text" placeholder="Search" class="input input-bordered input-sm w-full max-w-xs" />
        </div>
        <div class="dropdown">
          <label tabindex="0" class="btn btn-ghost btn-active btn-sm w-[120px]">
            <div class="flex space-x-2 items-center">
              <div class="text-sm font-semibold normal-case">Person</div>
              <img class="w-4 h-4" src="{% static 'image/user.png' %}">
            </div>
          </label>
          <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52">
            <li>
              <div class="flex items-center">
                <div class="text-md bg-blue-500 w-9 h-9 p-1 rounded-full text-white text-center">WN</div>
                <div class="text-xl">wanee</div>
              </div>
            </li>
            <li>
              <div class="flex items-center">
                <div class="text-md bg-red-500 w-9 h-9 p-1 rounded-full text-white text-center">PL</div>
                <div class="text-xl">plaifah</div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    
    <div class="overflow-x-auto mt-10 mx-10">
      <table class="table table-zebra w-full">
        <!-- head -->
        <thead>
          <tr>
            <th>ID</th>
            <th>Time</th>
            <th>Search Name</th>
            <th>Severity</th>
            <th>Owner</th>
            <th>Detail</th>
          </tr>
        </thead>
        <tbody> 
          {% for item in data  %}
          <tr>
            <th>{{forloop.counter}}</th>
            <td>{{item.time | date:"d b Y H:m"}}</td>
            <td>{{item.nameAlert}}</td>
            <td>
              {% if item.priority == 'Low' %}
              <div class="flex items-center space-x-2">
                <div class="h-5 w-5 rounded-full bg-green-700"></div>
                <div>Low</div>
              </div>
              {% elif item.priority == 'Medium' %} 
              <div class="flex items-center space-x-2">
                <div class="h-5 w-5 rounded-full bg-yellow-500"></div>
                <div>Medium</div>
              </div>
              {% elif item.priority == 'High' %} 
              <div class="flex items-center space-x-2">
                <div class="h-5 w-5 rounded-full bg-orange-500"></div>
                <div>Medium</div>
              </div>
              {% elif item.priority == 'Critical' %} 
              <div class="flex items-center space-x-2">
                <div class="h-5 w-5 rounded-full bg-red-600"></div>
                <div>Critical</div>
              </div>
              {% endif %} 
            </td>
            <td>{{item.owner}}</td>
            <td>
              <label for="my-drawer-4">
                <div class="flex items-center space-x-2 cursor-pointer">
                  <img class="w-5 h-5" src="{% static 'image/open.png' %}">
                  <div class="text-xs">View Result</div>
                </div>
              </label>
            </td>
          </tr>
        {% endfor %}
        </tbody>  
      </table>
    </div>
  </div> 
  <div class="drawer-side">
    <label for="my-drawer-4" class="drawer-overlay"></label>
    <ul class="menu p-4 w-[700px] h-full bg-white text-base-content">
      <!-- Sidebar content here -->
      <li><a>Sidebar Item 1</a></li>
      <li><a>Sidebar Item 2</a></li>
    </ul>
  </div>
</div>

{% endblock content %}